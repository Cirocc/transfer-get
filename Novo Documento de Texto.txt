<build>
    <plugins>
        <plugin>
            <groupId>org.apache.cxf</groupId>
            <artifactId>cxf-codegen-plugin</artifactId>
            <version>3.5.5</version>
            <executions>
                <execution>
                    <id>generate-sources</id>
                    <phase>generate-sources</phase>
                    <goals>
                        <goal>wsdl2java</goal>
                    </goals>
                </execution>
            </executions>
            <configuration>
                <sourceRoot>${project.build.directory}/generated-sources/wsdl</sourceRoot>
                <wsdlOptions>
                    <wsdlOption>
                        <wsdl>${project.basedir}/src/main/resources/service.wsdl</wsdl> <!-- Atualize o caminho para o WSDL -->
                    </wsdlOption>
                </wsdlOptions>
            </configuration>
        </plugin>

        <!-- Plugin para empacotar as classes geradas em um JAR -->
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-jar-plugin</artifactId>
            <version>3.1.0</version>
            <executions>
                <execution>
                    <id>default-jar</id>
                    <goals>
                        <goal>jar</goal>
                    </goals>
                    <phase>package</phase>
                    <configuration>
                        <classesDirectory>${project.build.directory}/generated-sources/wsdl</classesDirectory>
                        <outputDirectory>${project.basedir}/wsdl-client-lib</outputDirectory>
                        <finalName>wsdl-client</finalName>
                    </configuration>
                </execution>
            </executions>
        </plugin>
    </plugins>
</build>
